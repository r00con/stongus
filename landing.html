<!DOCTYPE html>
<html>
<head>
<title>Stongus</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body{
  margin:0;
  font-family:'Press Start 2P';
  background:
    linear-gradient(rgba(0,0,0,.8),rgba(0,0,0,.8)),
    url("background.png") center/cover fixed;
  color:white;
}
.box{
  max-width:420px;
  margin:120px auto;
  padding:30px;
  text-align:center;
  border:4px solid #333;
  background:rgba(0,0,0,.85);
}
input,button{
  font-family:'Press Start 2P';
  padding:10px;
  width:90%;
}
</style>
</head>
<body>

<div class="box">
  <h1>Stongus</h1>
  <input id="user" placeholder="Username"><br><br>
  <input id="pass" type="password" placeholder="Password"><br><br>
  <button onclick="login()">Login</button>
  <p>Dedicated to 5 Ding Dongs</p>
</div>

<script>
async function login(){
  const user=document.getElementById("user").value.trim();
  const pass=document.getElementById("pass").value.trim();
  if(!user||!pass) return;

  const r=await fetch("/login",{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({user,pass})
  });
  const d=await r.json();
  if(!d.ok){ alert("Not allowed"); return; }

  localStorage.clear();
  localStorage.setItem("user",user);
  location.href="gamepage.html";
}
</script>
</body>
</html>
